<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Welcome Forrest Trails</title>
    <link rel="icon" href="assets/favicon.png" type="image/png">
    <!-- Firebase Scripts (update version as needed) -->
    <script defer src="/__/firebase/10.13.2/firebase-app-compat.js"></script>
    <script defer src="/__/firebase/10.13.2/firebase-auth-compat.js"></script>
    <script defer src="/__/firebase/10.13.2/firebase-database-compat.js"></script>
    <script defer src="/__/firebase/10.13.2/firebase-firestore-compat.js"></script>
    <script defer src="/__/firebase/10.13.2/firebase-functions-compat.js"></script>
    <script defer src="/__/firebase/10.13.2/firebase-messaging-compat.js"></script>
    <script defer src="/__/firebase/10.13.2/firebase-storage-compat.js"></script>
    <script defer src="/__/firebase/10.13.2/firebase-analytics-compat.js"></script>
    <script defer src="/__/firebase/10.13.2/firebase-remote-config-compat.js"></script>
    <script defer src="/__/firebase/10.13.2/firebase-performance-compat.js"></script>

    <!-- External JS Libraries -->
    <script defer src="js/jquery-3.6.0.min.js"></script>
    <script defer src="js/popper-2.11.6.min.js"></script>
    <script defer src="js/bootstrap-5.3.0.bundle.min.js"></script>
    <script defer src="js/global.js"></script>

    <!-- Firebase Initialization Script -->
    <script defer src="/__/firebase/init.js?useEmulator=true"></script>

    <!-- External CSS -->
    <link rel="stylesheet" href="css/bootstrap-5.3.3.min.css">
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <!-- User Info Section -->
    <header class="mt-2">
      <!-- HIDING THIS UNTIL WE NEED IT -->
        <div id="user-info" class="text-end row" hidden>
            <div class="col">
                <span id="user-status">Loading...</span>
            </div>
            <div class="col-auto">
                <div class="d-flex justify-content-center me-3">
                    <button id="new-account-button" class="btn btn-success me-3 btn-sm">
                        <i class="fab fa-new-account"></i> Create a New Account
                    </button>
                    <button id="login-google-button" class="btn btn-danger me-3 btn-sm">
                        <i class="fab fa-google"></i> Login with Google
                    </button>
                    <button id="login-userpass-button" class="btn btn-primary me-3 btn-sm">
                        <i class="fas fa-user"></i> Login with Username/Password
                    </button>
                    <button id="logout-button" class="btn btn-secondary btn-sm">
                        <i class="fas fa-sign-out-alt"></i> Logout
                    </button>
                </div>
            </div>
        </div>

    </header>

    <!-- Banner Section -->
    <section class="banner-section p-1" style="height: 200px;">
        <img class="img-fluid w-100 h-100 object-fit-cover" src="assets/ft_wall.JPG" alt="Forrest Trails">
    </section>

    <!-- Navbar Section -->
    <nav class="navbar navbar-expand-md navbar-light bg-light">
      <div class="container-fluid">
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a id="nav-home" class="nav-link" href="#home">Home</a>
            </li>
            <li class="nav-item">
              <a id="nav-contact" class="nav-link" href="#contact">Contact</a>
            </li>
            <li class="nav-item">
              <a id="nav-announcements" class="nav-link" href="#announcements">Announcements</a>
            </li>
            <li class="nav-item">
              <a id="nav-documents" class="nav-link" href="#public-documents">Public Documents</a>
            </li>
            <li class="nav-item">
              <a id="nav-neighborhood_map" class="nav-link" href="#neighborhood-map">Neighborhood Map</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>


    <!-- Main Content Section -->
    <main class="container pt-3" style="max-width: 1024px;">
        <!-- Home Section -->
        <section id="home" class="page-contents">
            <h1>Welcome to Forest Trails</h1>
            <div id="welcomeText" class="ft-text"></div>
        </section>

        <!-- Contact Section -->
       <section id="contact" class="page-contents">
            <div class="container mt-5">
                <h1 class="text-center">Forest Trails HOA</h1>
                <h3 class="text-center">Contact Information</h3>
                <div class="list-group">
                    <a href="mailto:hoa_board@fthoa.info?subject=Your%20Subject%20Here" class="list-group-item list-group-item-action">
                        HOA Board: hoa_board@fthoa.info
                    </a>
                    <a href="mailto:admin@fthoa.info?subject=Your%20Subject%20Here" class="list-group-item list-group-item-action">
                        Website Admin: admin@fthoa.info
                    </a>
                    <div class="list-group-item">Address: 19515 133rd Ave SE, Renton, WA 98058</div>
                    <div class="list-group-item">Phone: (206) 781-3999</div>
                    <div class="list-group-item">Fax: (206) 781-3998</div>
                    <a href="https://www.facebook.com/groups/FTHOA/" target="_blank" class="list-group-item list-group-item-action">
                        Facebook Page: https://www.facebook.com/groups/FTHOA/
                    </a>
                </div>
            </div>
        </section>


        <!-- Announcements Section -->
        <section id="announcements" class="page-contents pt-3">
            <h1>Forest Trails Announcements</h1>
            <div id="announcementText" class="ft-text"></div>
        </section>

        <!-- Public Documents Section -->
        <section id="public-documents" class="page-contents pt-3">
            <h2>Public Documents</h2>
            <table id="public_files" class="table table-bordered table-striped">
                <thead class="thead-dark">
                    <tr>
                        <th scope="col">Files</th>
                        <th scope="col">Type</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </section>

        <!-- Neighborhood Map Section -->
        <section id="neighborhood-map" class="page-contents pt-3">
            <h1>Neighborhood Map</h1>
            <div id="map-container" class="w-100">
                <img class="w-100" src="assets/Neighborhood_map.png" alt="Neighborhood Map">
            </div>
        </section>
    </main>

    <!-- Modals Section -->
    <!-- Login Modal -->
    <div class="modal fade" id="customModal" tabindex="-1" aria-labelledby="customModalLabel" aria-hidden="true">
        <div class="modal-dialog text-dark">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="customModalLabel">Login</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="loginForm">
                        <div class="mb-3">
                            <label for="emailInput" class="form-label">Email address</label>
                            <input type="email" class="form-control" id="emailInput" placeholder="Enter email" required>
                        </div>
                        <div class="mb-3">
                            <label for="passwordInput" class="form-label">Password</label>
                            <input type="password" class="form-control" id="passwordInput" placeholder="Enter password" required>
                        </div>
                        <div id="loginError" class="text-danger" style="display:none;"></div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" id="loginBtn" class="btn btn-primary">Login</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Account Request Modal -->
    <div class="modal fade" id="accountRequestModal" tabindex="-1" role="dialog">
        <div class="modal-dialog text-dark" style="max-width: 80%;">
            <div class="modal-content">
                <div class="modal-header d-flex justify-content-between">
                    <h5 class="modal-title">Request an Account</h5>
                    <button type="button" class="new_close_button btn btn-danger btn-sm">Cancel</button>
                </div>
                <div class="modal-body">
                    <form id="accountRequestForm">
                        <div class="form-group">
                            <label for="new_emailInput" class="small mb-1">Email</label>
                            <input type="email" class="form-control new-user-form-control" id="new_emailInput" required>
                        </div>
                        <div class="form-group">
                            <label for="new_nameInput" class="small mb-1">Full Name</label>
                            <input type="text" class="form-control new-user-form-control" id="new_nameInput" required>
                        </div>
                        <div class="form-group">
                            <label for="new_addressSelect" class="small mb-1">Address or Parcel Number</label>
                            <select class="form-control new-user-form-control" id="new_addressSelect" required>
                                <option value="">Select your address</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="new_phoneInput" class="small mb-1">Phone Number (Optional)</label>
                            <input type="text" class="form-control new-user-form-control" id="new_phoneInput">
                        </div>
					  <div class="form-group">
						<label for="consentCheckbox">
							<div style="margin-top: 10px;">
							  <strong>Consent to Notice by Electronic Transmission</strong><br>
							  The Board of Directors of the Forest Trails Homeowners’ Association has decided to begin using notice by electronic transmission for Association business. Electronic notices are preferred by many owners and help to reduce copying and postage costs for the Association. Per RCW 64.38, the Association must obtain your written consent in order to send you notices electronically, and this authorization will be maintained on file with the Association and/or its professional management company.<br><br>
							  If you do not provide this consent, you will continue to receive all Association business notices in hard copy form at your property address in the Association and/or any alternate mailing address you have provided. Additionally, access to the materials on this site will be restricted to ensure we are in compliance with applicable law.<br><br>
							  By electronically consenting, you agree to receive notices from the Forest Trails Homeowners’ Association via electronic transmission in accordance with RCW 64.38. The HOA will never share your contact information with 3rd parties, this email address is for communications between the HOA and member households only.<br><br>
							  <strong>Consent Acknowledgment:</strong><br>
							  By checking the box below, you confirm that you have read this document and consent to receiving notices electronically.<br><br>

							<input type="checkbox" class="new-user-form-control" id="consentCheckbox" required>
							I agree to electronic consent and verify that I have read the above agreement to electronic communications.<br><br>
							<strong>PLEASE NOTE:</strong> If you wish at any time to revoke your consent, please contact the Association or its management company in writing to indicate that you wish to revoke your consent and return to receiving hard copy notices. Consent will be deemed revoked if the Secretary of the Association or the Community Association Manager are unable to electronically transmit two (2) consecutive meeting notices to the email address(es) provided above.
							</div>
							</label>
						</div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button id="new_account_request_btn" class="btn btn-primary">Request an Account</button>
                </div>
            </div>
        </div>
    </div>
    <!-- Registration Success Modal -->
    <div class="modal fade" id="registration_successModal" tabindex="-1" role="dialog" aria-labelledby="successModalLabel" aria-hidden="true">
          <div class="modal-dialog text-dark bg-light" role="document">
            <div class="modal-content">
              <div class="modal-body">
                Request submitted successfully!
              </div>
              <div class="modal-footer">
                <button type="button" class="success_close_button btn btn-secondary" data-dismiss="modal">Close</button>
              </div>
            </div>
          </div>
        </div>

</body>
</html>